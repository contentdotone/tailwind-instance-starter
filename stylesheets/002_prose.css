/* ==========================================================================
   prose-custom.css
   Tailwind Typography ("prose") + sensible modern defaults + dark mode
   ========================================================================== */

/* =============================================
   Base prose setup + size variants
   ============================================= */
.prose {
  --tw-prose-body: theme('colors.neutral.800');
  --tw-prose-headings: theme('colors.neutral.900');
  --tw-prose-lead: theme('colors.neutral.700');
  --tw-prose-links: theme('colors.indigo.700');
  --tw-prose-bold: theme('colors.neutral.900');
  --tw-prose-counters: theme('colors.neutral.600');
  --tw-prose-bullets: theme('colors.neutral.400');
  --tw-prose-hr: theme('colors.neutral.200 / 0.7');
  --tw-prose-quotes: theme('colors.neutral.800');
  --tw-prose-quote-borders: theme('colors.indigo.200');
  --tw-prose-captions: theme('colors.neutral.500');
  --tw-prose-code: theme('colors.rose.600');
  --tw-prose-pre-code: theme('colors.neutral.200');
  --tw-prose-pre-bg: theme('colors.neutral.800');
  --tw-prose-th-borders: theme('colors.neutral.300');
  --tw-prose-td-borders: theme('colors.neutral.200');
  --tw-prose-invert-body: theme('colors.neutral.300');
  --tw-prose-invert-headings: theme('colors.white');
  --tw-prose-invert-lead: theme('colors.neutral.400');
  --tw-prose-invert-links: theme('colors.indigo.400');
  --tw-prose-invert-bold: theme('colors.white');
  --tw-prose-invert-counters: theme('colors.neutral.400');
  --tw-prose-invert-bullets: theme('colors.neutral.600');
  --tw-prose-invert-hr: theme('colors.neutral.700 / 0.6');
  --tw-prose-invert-quotes: theme('colors.neutral.200');
  --tw-prose-invert-quote-borders: theme('colors.indigo.500 / 0.5');
  --tw-prose-invert-captions: theme('colors.neutral.500');
  --tw-prose-invert-code: theme('colors.rose.300');
  --tw-prose-invert-pre-code: theme('colors.neutral.300');
  --tw-prose-invert-pre-bg: rgb(15 23 42); /* slate-950 approximation */
  --tw-prose-invert-th-borders: theme('colors.neutral.600');
  --tw-prose-invert-td-borders: theme('colors.neutral.700');
}

/* Most common size — good middle ground */
.prose {
  @apply text-base leading-7;
}

.prose :where(p):not(:where([class~="not-prose"], pre, code, blockquote, li, h1, h2, h3, h4, h5, h6, table, ul, ol, dl)) {
  @apply my-6;
}

/* =============================================
   Better heading spacing & anchor links support
   ============================================= */
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  @apply scroll-mt-20 font-bold tracking-tight;
}

.prose h2 {
  @apply mt-12 mb-6 text-3xl leading-9;
}

.prose h3 {
  @apply mt-10 mb-4 text-2xl leading-8;
}

.prose h4 {
  @apply mt-8 mb-3 text-xl;
}

/* Better link underline + hover effect */
.prose a {
  @apply border-b border-current border-opacity-40 transition;
}

.prose a:hover {
  @apply border-opacity-70 text-indigo-700 dark:text-indigo-400;
}

/* Code blocks with better modern look */
.prose pre {
  @apply rounded-xl border border-neutral-200/70 dark:border-neutral-800 bg-neutral-50/70 dark:bg-neutral-900/70 p-5 shadow-sm overflow-x-auto;
}

.prose code {
  @apply text-sm font-medium;
}

.prose pre code {
  @apply text-[0.94em] leading-relaxed;
}

/* Tables — modern card-like style */
.prose table {
  @apply w-full text-sm border-separate border-spacing-0 rounded-lg overflow-hidden border border-neutral-200 dark:border-neutral-800 shadow-sm;
}

.prose th,
.prose td {
  @apply px-5 py-3;
}

.prose thead th {
  @apply bg-neutral-100/80 dark:bg-neutral-800/60 font-semibold text-left;
}

.prose tbody tr {
  @apply border-t border-neutral-200 dark:border-neutral-800;
}

.prose tbody tr:nth-child(odd) {
  @apply bg-neutral-50/40 dark:bg-neutral-900/30;
}

/* Blockquotes with nice modern touch */
.prose blockquote {
  @apply border-l-4 border-indigo-400/60 dark:border-indigo-600/50 pl-5 pr-4 py-1 my-8 italic text-neutral-700 dark:text-neutral-300;
}

/* Lists — tighter & cleaner */
.prose ul,
.prose ol {
  @apply my-6 space-y-2.5;
}

.prose li {
  @apply pl-1;
}

.prose ul > li::marker {
  @apply text-neutral-400 dark:text-neutral-600;
}

/* Dark mode variant (when you use class="dark") */
.dark .prose {
  --tw-prose-body: var(--tw-prose-invert-body);
  --tw-prose-headings: var(--tw-prose-invert-headings);
  --tw-prose-lead: var(--tw-prose-invert-lead);
  --tw-prose-links: var(--tw-prose-invert-links);
  --tw-prose-bold: var(--tw-prose-invert-bold);
  --tw-prose-counters: var(--tw-prose-invert-counters);
  --tw-prose-bullets: var(--tw-prose-invert-bullets);
  --tw-prose-hr: var(--tw-prose-invert-hr);
  --tw-prose-quotes: var(--tw-prose-invert-quotes);
  --tw-prose-quote-borders: var(--tw-prose-invert-quote-borders);
  --tw-prose-captions: var(--tw-prose-invert-captions);
  --tw-prose-code: var(--tw-prose-invert-code);
  --tw-prose-pre-code: var(--tw-prose-invert-pre-code);
  --tw-prose-pre-bg: var(--tw-prose-invert-pre-bg);
  --tw-prose-th-borders: var(--tw-prose-invert-th-borders);
  --tw-prose-td-borders: var(--tw-prose-invert-td-borders);
}

/* =============================================
   Common escape hatch: prevent prose from styling
   certain areas (images with captions, code editors, etc.)
   ============================================= */
.not-prose {
  @apply !prose-invert-0 !text-inherit !not-italic !font-normal;
}